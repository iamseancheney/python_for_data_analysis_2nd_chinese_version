***

ğŸŒŸ å¤§æ¨¡å‹æ—¶ä»£ï¼Œå¼€å‘æ¨¡å‹éœ€è¦æµ·é‡æ•°æ®ï¼Œé‡‡é›†æ•°æ®åˆç¦»ä¸å¼€ä»£ç†IPã€‚æ¨èä¸€å®¶å¥½ç”¨çš„æ•°æ®é›†å’Œä»£ç†IPæœåŠ¡ ğŸŒğŸ’¡ã€[bright.cn](https://get.brightdata.com/bigdataresource)ã€‘ğŸ’¡ğŸŒï¼Œæ ¹æ¤æµ·å¤–äº®æ•°æ®BrightDataå›¢é˜Ÿï¼Œæ•°æ®é›†å’Œä»£ç†å¸‚åœºé¢†å¯¼è€…ï¼Œè¦†ç›–å…¨çƒçš„7200ä¸‡IPï¼ŒğŸŒğŸ”¥æœ‰è½®åŠ¨çœŸäººä½å®…IPè·Ÿæœºæˆ¿IPï¼Œäº²æµ‹ç¨³å®šä¸æ˜“è¢«å°ã€‚æœ‰å¤šç§å¥—é¤å¯é€‰ï¼ŒğŸ“¦ğŸ”’è¿˜æœ‰ä¸é™æµé‡çš„å¥—é¤ã€‚éœ€è¦é«˜è´¨é‡ä»£ç†IPçš„å¯ä»¥æ³¨å†Œåè”ç³»ä¸­æ–‡å®¢æœï¼Œå¼€é€šåèµ é€ğŸ’µğŸ’°5ç¾å…ƒè¯•ç”¨å’Œæ•™ç¨‹æŒ‡å¼•ï¼ŒæŠ¥æˆ‘åå­—ã€SeanCheneyã€‘å¯å†å¾—ğŸ’µğŸ’°150ç¾å…ƒå¥—é¤æŠ˜æ‰£ã€‚

ğŸ’¡æ•°æ®é›†å’Œä»£ç†IPæ¨èğŸ’¡ã€[bright.cn](https://get.brightdata.com/bigdataresource)ã€‘ğŸ’¡ï¼Œè¿›å…¥ç½‘ç«™æ³¨å†Œè´¦å·å¯å…è´¹è·å¾—è¯¸å¦‚ äºšé©¬é€Šï¼Œæ²ƒå°”ç›ï¼Œé¢†è‹±ï¼ŒæŠ–éŸ³ï¼ŒGlassdoorï¼ŒAirbnbï¼Œè°·æ­Œåœ°å›¾å•†å®¶ç­‰æ•°æ®é›†æ ·æœ¬ã€‚

***

# ç¬¬2ç«  Pythonè¯­æ³•åŸºç¡€ï¼ŒIPythonå’ŒJupyter Notebooks

å½“æˆ‘åœ¨2011å¹´å’Œ2012å¹´å†™ä½œæœ¬ä¹¦çš„ç¬¬ä¸€ç‰ˆæ—¶ï¼Œå¯ç”¨çš„å­¦ä¹ Pythonæ•°æ®åˆ†æçš„èµ„æºå¾ˆå°‘ã€‚è¿™éƒ¨åˆ†ä¸Šæ˜¯ä¸€ä¸ªé¸¡å’Œè›‹çš„é—®é¢˜ï¼šæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„åº“ï¼Œæ¯”å¦‚pandasã€scikit-learnå’Œstatsmodelsï¼Œé‚£æ—¶ç›¸å¯¹æ¥è¯´å¹¶ä¸æˆç†Ÿã€‚2017å¹´ï¼Œæ•°æ®ç§‘å­¦ã€æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„èµ„æºå·²ç»å¾ˆå¤šï¼ŒåŸæ¥é€šç”¨çš„ç§‘å­¦è®¡ç®—æ‹“å±•åˆ°äº†è®¡ç®—æœºç§‘å­¦å®¶ã€ç‰©ç†å­¦å®¶å’Œå…¶å®ƒç ”ç©¶é¢†åŸŸçš„å·¥ä½œäººå‘˜ã€‚å­¦ä¹ Pythonå’Œæˆä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆçš„ä¼˜ç§€ä¹¦ç±ä¹Ÿæœ‰äº†ã€‚

å› ä¸ºè¿™æœ¬ä¹¦æ˜¯ä¸“æ³¨äºPythonæ•°æ®å¤„ç†çš„ï¼Œå¯¹äºä¸€äº›Pythonçš„æ•°æ®ç»“æ„å’Œåº“çš„ç‰¹æ€§éš¾å…ä¸è¶³ã€‚å› æ­¤ï¼Œæœ¬ç« å’Œç¬¬3ç« çš„å†…å®¹åªå¤Ÿä½ èƒ½å­¦ä¹ æœ¬ä¹¦åé¢çš„å†…å®¹ã€‚

åœ¨æˆ‘æ¥çœ‹ï¼Œæ²¡æœ‰å¿…è¦ä¸ºäº†æ•°æ®åˆ†æè€Œå»ç²¾é€šPythonã€‚æˆ‘é¼“åŠ±ä½ ä½¿ç”¨IPython shellå’ŒJupyterè¯•éªŒç¤ºä¾‹ä»£ç ï¼Œå¹¶å­¦ä¹ ä¸åŒç±»å‹ã€å‡½æ•°å’Œæ–¹æ³•çš„æ–‡æ¡£ã€‚è™½ç„¶æˆ‘å·²å°½åŠ›è®©æœ¬ä¹¦å†…å®¹å¾ªåºæ¸è¿›ï¼Œä½†è¯»è€…å¶å°”ä»ä¼šç¢°åˆ°æ²¡æœ‰ä¹‹å‰ä»‹ç»è¿‡çš„å†…å®¹ã€‚

æœ¬ä¹¦å¤§éƒ¨åˆ†å†…å®¹å…³æ³¨çš„æ˜¯åŸºäºè¡¨æ ¼çš„åˆ†æå’Œå¤„ç†å¤§è§„æ¨¡æ•°æ®é›†çš„æ•°æ®å‡†å¤‡å·¥å…·ã€‚ä¸ºäº†ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œå¿…é¡»é¦–å…ˆå°†æ··ä¹±çš„æ•°æ®è§„æ•´ä¸ºæ•´æ´çš„è¡¨æ ¼ï¼ˆæˆ–ç»“æ„åŒ–ï¼‰å½¢å¼ã€‚å¹¸å¥½ï¼ŒPythonæ˜¯ä¸€ä¸ªç†æƒ³çš„è¯­è¨€ï¼Œå¯ä»¥å¿«é€Ÿæ•´ç†æ•°æ®ã€‚Pythonä½¿ç”¨å¾—è¶Šç†Ÿç»ƒï¼Œè¶Šå®¹æ˜“å‡†å¤‡æ–°æ•°æ®é›†ä»¥è¿›è¡Œåˆ†æã€‚

æœ€å¥½åœ¨IPythonå’ŒJupyterä¸­äº²è‡ªå°è¯•æœ¬ä¹¦ä¸­ä½¿ç”¨çš„å·¥å…·ã€‚å½“ä½ å­¦ä¼šäº†å¦‚ä½•å¯åŠ¨Ipythonå’ŒJupyterï¼Œæˆ‘å»ºè®®ä½ è·Ÿéšç¤ºä¾‹ä»£ç è¿›è¡Œç»ƒä¹ ã€‚ä¸ä»»ä½•é”®ç›˜é©±åŠ¨çš„æ“ä½œç¯å¢ƒä¸€æ ·ï¼Œè®°ä½å¸¸è§çš„å‘½ä»¤ä¹Ÿæ˜¯å­¦ä¹ æ›²çº¿çš„ä¸€éƒ¨åˆ†ã€‚

> ç¬”è®°ï¼šæœ¬ç« æ²¡æœ‰ä»‹ç»Pythonçš„æŸäº›æ¦‚å¿µï¼Œå¦‚ç±»å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä½ å¯èƒ½ä¼šå‘ç°å®ƒä»¬åœ¨Pythonæ•°æ®åˆ†æä¸­å¾ˆæœ‰ç”¨ã€‚ ä¸ºäº†åŠ å¼ºPythonçŸ¥è¯†ï¼Œæˆ‘å»ºè®®ä½ å­¦ä¹ å®˜æ–¹Pythonæ•™ç¨‹ï¼Œ[https://docs.python.org/3/ï¼Œæˆ–æ˜¯é€šç”¨çš„Pythonæ•™ç¨‹ä¹¦ç±ï¼Œæ¯”å¦‚ï¼š](https://docs.python.org/3/ï¼Œæˆ–æ˜¯é€šç”¨çš„Pythonæ•™ç¨‹ä¹¦ç±ï¼Œæ¯”å¦‚ï¼š)
>
> * Python Cookbookï¼Œç¬¬3ç‰ˆï¼ŒDavid Beazleyå’ŒBrian K. Jonesè‘—ï¼ˆOâ€™Reillyï¼‰
> * æµç•…çš„Pythonï¼ŒLuciano Ramalhoè‘— \(Oâ€™Reilly\)
> * é«˜æ•ˆçš„Pythonï¼ŒBrett Slatkinè‘— \(Pearson\)

## 2.1 Pythonè§£é‡Šå™¨ 

Pythonæ˜¯è§£é‡Šæ€§è¯­è¨€ã€‚Pythonè§£é‡Šå™¨åŒä¸€æ—¶é—´åªèƒ½è¿è¡Œä¸€ä¸ªç¨‹åºçš„ä¸€æ¡è¯­å¥ã€‚æ ‡å‡†çš„äº¤äº’Pythonè§£é‡Šå™¨å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­é€šè¿‡é”®å…¥`python`å‘½ä»¤æ‰“å¼€ï¼š

```text
$ python
Python 3.6.0 | packaged by conda-forge | (default, Jan 13 2017, 23:17:12)
[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> a = 5
>>> print(a)
5
```

`>>>`æç¤ºè¾“å…¥ä»£ç ã€‚è¦é€€å‡ºPythonè§£é‡Šå™¨è¿”å›ç»ˆç«¯ï¼Œå¯ä»¥è¾“å…¥`exit()`æˆ–æŒ‰Ctrl-Dã€‚

è¿è¡ŒPythonç¨‹åºåªéœ€è°ƒç”¨Pythonçš„åŒæ—¶ï¼Œä½¿ç”¨ä¸€ä¸ª`.py`æ–‡ä»¶ä½œä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å‡è®¾åˆ›å»ºäº†ä¸€ä¸ª`hello_world.py`æ–‡ä»¶ï¼Œå®ƒçš„å†…å®¹æ˜¯ï¼š

```python
print('Hello world')
```

ä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤è¿è¡Œå®ƒï¼ˆ`hello_world.py`æ–‡ä»¶å¿…é¡»ä½äºç»ˆç«¯çš„å·¥ä½œç›®å½•ï¼‰ï¼š

```python
$ python hello_world.py
Hello world
```

ä¸€äº›Pythonç¨‹åºå‘˜æ€»æ˜¯è¿™æ ·æ‰§è¡ŒPythonä»£ç çš„ï¼Œä»äº‹æ•°æ®åˆ†æå’Œç§‘å­¦è®¡ç®—çš„äººå´ä¼šä½¿ç”¨IPythonï¼Œä¸€ä¸ªå¼ºåŒ–çš„Pythonè§£é‡Šå™¨ï¼Œæˆ–Jupyter notebooksï¼Œä¸€ä¸ªç½‘é¡µä»£ç ç¬”è®°æœ¬ï¼Œå®ƒåŸå…ˆæ˜¯IPythonçš„ä¸€ä¸ªå­é¡¹ç›®ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨IPythonå’ŒJupyterï¼Œåœ¨é™„å½•Aä¸­æœ‰æ›´æ·±å…¥çš„ä»‹ç»ã€‚å½“ä½ ä½¿ç”¨`%run`å‘½ä»¤ï¼ŒIPythonä¼šåŒæ ·æ‰§è¡ŒæŒ‡å®šæ–‡ä»¶ä¸­çš„ä»£ç ï¼Œç»“æŸä¹‹åï¼Œè¿˜å¯ä»¥ä¸ç»“æœäº¤äº’ï¼š

```text
$ ipython
Python 3.6.0 | packaged by conda-forge | (default, Jan 13 2017, 23:17:12)
Type "copyright", "credits" or "license" for more information.

IPython 5.1.0 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: %run hello_world.py
Hello world

In [2]:
```

IPythoné»˜è®¤é‡‡ç”¨åºå·çš„æ ¼å¼`In [2]:`ï¼Œä¸æ ‡å‡†çš„`>>>`æç¤ºç¬¦ä¸åŒã€‚

## 2.2 IPythonåŸºç¡€

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¼šæ•™ä½ æ‰“å¼€è¿è¡ŒIPython shellå’Œjupyter notebookï¼Œå¹¶ä»‹ç»ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚

### è¿è¡ŒIPython Shell

ä½ å¯ä»¥ç”¨`ipython`åœ¨å‘½ä»¤è¡Œæ‰“å¼€IPython Shellï¼Œå°±åƒæ‰“å¼€æ™®é€šçš„Pythonè§£é‡Šå™¨ï¼š

```text
$ ipython
Python 3.6.0 | packaged by conda-forge | (default, Jan 13 2017, 23:17:12)
Type "copyright", "credits" or "license" for more information.

IPython 5.1.0 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: a = 5
In [2]: a
Out[2]: 5
```

ä½ å¯ä»¥é€šè¿‡è¾“å…¥ä»£ç å¹¶æŒ‰Returnï¼ˆæˆ–Enterï¼‰ï¼Œè¿è¡Œä»»æ„Pythonè¯­å¥ã€‚å½“ä½ åªè¾“å…¥ä¸€ä¸ªå˜é‡ï¼Œå®ƒä¼šæ˜¾ç¤ºä»£è¡¨çš„å¯¹è±¡ï¼š

```python
In [5]: import numpy as np

In [6]: data = {i : np.random.randn() for i in range(7)}

In [7]: data
Out[7]: 
{0: -0.20470765948471295,
 1: 0.47894333805754824,
 2: -0.5194387150567381,
 3: -0.55573030434749,
 4: 1.9657805725027142,
 5: 1.3934058329729904,
6: 0.09290787674371767}
```

å‰ä¸¤è¡Œæ˜¯Pythonä»£ç è¯­å¥ï¼›ç¬¬äºŒæ¡è¯­å¥åˆ›å»ºä¸€ä¸ªåä¸º`data`çš„å˜é‡ï¼Œå®ƒå¼•ç”¨ä¸€ä¸ªæ–°åˆ›å»ºçš„Pythonå­—å…¸ã€‚æœ€åä¸€è¡Œæ‰“å°`data`çš„å€¼ã€‚

è®¸å¤šPythonå¯¹è±¡è¢«æ ¼å¼åŒ–ä¸ºæ›´æ˜“è¯»çš„å½¢å¼ï¼Œæˆ–ç§°ä½œ`pretty-printed`ï¼Œå®ƒä¸æ™®é€šçš„`print`ä¸åŒã€‚å¦‚æœåœ¨æ ‡å‡†Pythonè§£é‡Šå™¨ä¸­æ‰“å°ä¸Šè¿°`data`å˜é‡ï¼Œåˆ™å¯è¯»æ€§è¦é™ä½ï¼š

```text
>>> from numpy.random import randn
>>> data = {i : randn() for i in range(7)}
>>> print(data)
{0: -1.5948255432744511, 1: 0.10569006472787983, 2: 1.972367135977295,
3: 0.15455217573074576, 4: -0.24058577449429575, 5: -1.2904897053651216,
6: 0.3308507317325902}
```

IPythonè¿˜æ”¯æŒæ‰§è¡Œä»»æ„ä»£ç å—ï¼ˆé€šè¿‡ä¸€ä¸ªåä¸½çš„å¤åˆ¶-ç²˜è´´æ–¹æ³•ï¼‰å’Œæ•´æ®µPythonè„šæœ¬çš„åŠŸèƒ½ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Jupyter notebookè¿è¡Œå¤§ä»£ç å—ï¼Œæ¥ä¸‹æ¥å°±ä¼šçœ‹åˆ°ã€‚

### è¿è¡ŒJupyter Notebook

notebookæ˜¯Jupyteré¡¹ç›®çš„é‡è¦ç»„ä»¶ä¹‹ä¸€ï¼Œå®ƒæ˜¯ä¸€ä¸ªä»£ç ã€æ–‡æœ¬ï¼ˆæœ‰æ ‡è®°æˆ–æ— æ ‡è®°ï¼‰ã€æ•°æ®å¯è§†åŒ–æˆ–å…¶å®ƒè¾“å‡ºçš„äº¤äº’å¼æ–‡æ¡£ã€‚Jupyter Notebookéœ€è¦ä¸å†…æ ¸äº’åŠ¨ï¼Œå†…æ ¸æ˜¯Jupyterä¸å…¶å®ƒç¼–ç¨‹è¯­è¨€çš„äº¤äº’ç¼–ç¨‹åè®®ã€‚Pythonçš„Jupyterå†…æ ¸æ˜¯ä½¿ç”¨IPythonã€‚è¦å¯åŠ¨Jupyterï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥`jupyter notebook`:

```text
$ jupyter notebook
[I 15:20:52.739 NotebookApp] Serving notebooks from local directory:
/home/wesm/code/pydata-book
[I 15:20:52.739 NotebookApp] 0 active kernels
[I 15:20:52.739 NotebookApp] The Jupyter Notebook is running at:
http://localhost:8888/
[I 15:20:52.740 NotebookApp] Use Control-C to stop this server and shut down
all kernels (twice to skip confirmation).
Created new window in existing browser session.
```

åœ¨å¤šæ•°å¹³å°ä¸Šï¼ŒJupyterä¼šè‡ªåŠ¨æ‰“å¼€é»˜è®¤çš„æµè§ˆå™¨ï¼ˆé™¤éæŒ‡å®šäº†`--no-browser`ï¼‰ã€‚æˆ–è€…ï¼Œå¯ä»¥åœ¨å¯åŠ¨notebookä¹‹åï¼Œæ‰‹åŠ¨æ‰“å¼€ç½‘é¡µ`http://localhost:8888/`ã€‚å›¾2-1å±•ç¤ºäº†Google Chromeä¸­çš„notebookã€‚

> ç¬”è®°ï¼šè®¸å¤šäººä½¿ç”¨Jupyterä½œä¸ºæœ¬åœ°çš„è®¡ç®—ç¯å¢ƒï¼Œä½†å®ƒä¹Ÿå¯ä»¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šè¿œç¨‹è®¿é—®ã€‚è¿™é‡Œä¸åšä»‹ç»ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œé¼“åŠ±è¯»è€…è‡ªè¡Œåˆ°ç½‘ä¸Šå­¦ä¹ ã€‚

![&#x56FE;2-1 Jupyter notebook&#x542F;&#x52A8;&#x9875;&#x9762;](http://upload-images.jianshu.io/upload_images/7178691-c76c4f40777d3ef1.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

è¦æ–°å»ºä¸€ä¸ªnotebookï¼Œç‚¹å‡»æŒ‰é’®Newï¼Œé€‰æ‹©â€œPython3â€æˆ–â€œconda\[é»˜è®¤é¡¹\]â€ã€‚å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ï¼Œç‚¹å‡»ç©ºæ ¼ï¼Œè¾“å…¥ä¸€è¡ŒPythonä»£ç ã€‚ç„¶åæŒ‰Shift-Enteræ‰§è¡Œã€‚

![&#x56FE;2-2 Jupyter&#x65B0;notebook&#x9875;&#x9762;](http://upload-images.jianshu.io/upload_images/7178691-86a6813291ead445.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

å½“ä¿å­˜notebookæ—¶ï¼ˆFileç›®å½•ä¸‹çš„Save and Checkpointï¼‰ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåç¼€åä¸º`.ipynb`çš„æ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªè‡ªåŒ…å«æ–‡ä»¶æ ¼å¼ï¼ŒåŒ…å«å½“å‰ç¬”è®°æœ¬ä¸­çš„æ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬æ‰€æœ‰å·²è¯„ä¼°çš„ä»£ç è¾“å‡ºï¼‰ã€‚å¯ä»¥è¢«å…¶å®ƒJupyterç”¨æˆ·åŠ è½½å’Œç¼–è¾‘ã€‚è¦åŠ è½½å­˜åœ¨çš„notebookï¼ŒæŠŠå®ƒæ”¾åˆ°å¯åŠ¨notebookè¿›ç¨‹çš„ç›¸åŒç›®å½•å†…ã€‚ä½ å¯ä»¥ç”¨æœ¬ä¹¦çš„ç¤ºä¾‹ä»£ç ç»ƒä¹ ï¼Œè§å›¾2-3ã€‚

è™½ç„¶Jupyter notebookå’ŒIPython shellä½¿ç”¨èµ·æ¥ä¸åŒï¼Œæœ¬ç« ä¸­å‡ ä¹æ‰€æœ‰çš„å‘½ä»¤å’Œå·¥å…·éƒ½å¯ä»¥é€šç”¨ã€‚

![&#x56FE;2-3 Jupyter&#x67E5;&#x770B;&#x4E00;&#x4E2A;&#x5B58;&#x5728;&#x7684;notebook&#x7684;&#x9875;&#x9762;](http://upload-images.jianshu.io/upload_images/7178691-bc9a0b4c30363747.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

### Tabè¡¥å…¨

ä»å¤–è§‚ä¸Šï¼ŒIPython shellå’Œæ ‡å‡†çš„Pythonè§£é‡Šå™¨åªæ˜¯çœ‹èµ·æ¥ä¸åŒã€‚IPython shellçš„è¿›æ­¥ä¹‹ä¸€æ˜¯å…·å¤‡å…¶å®ƒIDEå’Œäº¤äº’è®¡ç®—åˆ†æç¯å¢ƒéƒ½æœ‰çš„tabè¡¥å…¨åŠŸèƒ½ã€‚åœ¨shellä¸­è¾“å…¥è¡¨è¾¾å¼ï¼ŒæŒ‰ä¸‹Tabï¼Œä¼šæœç´¢å·²è¾“å…¥å˜é‡ï¼ˆå¯¹è±¡ã€å‡½æ•°ç­‰ç­‰ï¼‰çš„å‘½åç©ºé—´ï¼š

```text
In [1]: an_apple = 27

In [2]: an_example = 42

In [3]: an<Tab>
an_apple    and         an_example  any
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒIPythonå‘ˆç°å‡ºäº†ä¹‹å‰ä¸¤ä¸ªå®šä¹‰çš„å˜é‡å’ŒPythonçš„å…³é”®å­—å’Œå†…å»ºçš„å‡½æ•°`any`ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è¡¥å…¨ä»»ä½•å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ï¼š

```text
In [3]: b = [1, 2, 3]

In [4]: b.<Tab>
b.append  b.count   b.insert  b.reverse
b.clear   b.extend  b.pop     b.sort
b.copy    b.index   b.remove
```

åŒæ ·ä¹Ÿé€‚ç”¨äºæ¨¡å—ï¼š

```text
In [1]: import datetime

In [2]: datetime.<Tab>
datetime.date          datetime.MAXYEAR       datetime.timedelta
datetime.datetime      datetime.MINYEAR       datetime.timezone
datetime.datetime_CAPI datetime.time          datetime.tzinfo
```

åœ¨Jupyter notebookå’Œæ–°ç‰ˆçš„IPythonï¼ˆ5.0åŠä»¥ä¸Šï¼‰ï¼Œè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½æ˜¯ä¸‹æ‹‰æ¡†çš„å½¢å¼ã€‚

> ç¬”è®°ï¼šæ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒIPythonä¼šéšè—ä¸‹åˆ’çº¿å¼€å¤´çš„æ–¹æ³•å’Œå±æ€§ï¼Œæ¯”å¦‚é­”æœ¯æ–¹æ³•å’Œå†…éƒ¨çš„â€œç§æœ‰â€æ–¹æ³•å’Œå±æ€§ï¼Œä»¥é¿å…æ··ä¹±çš„æ˜¾ç¤ºï¼ˆå’Œè®©æ–°æ‰‹è¿·æƒ‘ï¼ï¼‰è¿™äº›ä¹Ÿå¯ä»¥tabè¡¥å…¨ï¼Œä½†æ˜¯ä½ å¿…é¡»é¦–å…ˆé”®å…¥ä¸€ä¸ªä¸‹åˆ’çº¿æ‰èƒ½çœ‹åˆ°å®ƒä»¬ã€‚å¦‚æœä½ å–œæ¬¢æ€»æ˜¯åœ¨tabè¡¥å…¨ä¸­çœ‹åˆ°è¿™æ ·çš„æ–¹æ³•ï¼Œä½ å¯ä»¥IPythoné…ç½®ä¸­è¿›è¡Œè®¾ç½®ã€‚å¯ä»¥åœ¨IPythonæ–‡æ¡£ä¸­æŸ¥æ‰¾æ–¹æ³•ã€‚

é™¤äº†è¡¥å…¨å‘½åã€å¯¹è±¡å’Œæ¨¡å—å±æ€§ï¼ŒTabè¿˜å¯ä»¥è¡¥å…¨å…¶å®ƒçš„ã€‚å½“è¾“å…¥çœ‹ä¼¼æ–‡ä»¶è·¯å¾„æ—¶ï¼ˆå³ä½¿æ˜¯Pythonå­—ç¬¦ä¸²ï¼‰ï¼ŒæŒ‰ä¸‹Tabä¹Ÿå¯ä»¥è¡¥å…¨ç”µè„‘ä¸Šå¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯ï¼š

```text
In [7]: datasets/movielens/<Tab>
datasets/movielens/movies.dat    datasets/movielens/README
datasets/movielens/ratings.dat   datasets/movielens/users.dat

In [7]: path = 'datasets/movielens/<Tab>
datasets/movielens/movies.dat    datasets/movielens/README
datasets/movielens/ratings.dat   datasets/movielens/users.dat
```

ç»“åˆ`%run`ï¼Œtabè¡¥å…¨å¯ä»¥èŠ‚çœè®¸å¤šé”®ç›˜æ“ä½œã€‚

å¦å¤–ï¼Œtabè¡¥å…¨å¯ä»¥è¡¥å…¨å‡½æ•°çš„å…³é”®è¯å‚æ•°ï¼ˆåŒ…æ‹¬ç­‰äºå·=ï¼‰ã€‚è§å›¾2-4ã€‚

![&#x56FE;2-4 Jupyter notebook&#x4E2D;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x51FD;&#x6570;&#x5173;&#x952E;&#x8BCD;](http://upload-images.jianshu.io/upload_images/7178691-8188b0386238c16a.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

åé¢ä¼šä»”ç»†åœ°å­¦ä¹ å‡½æ•°ã€‚

### è‡ªçœ

åœ¨å˜é‡å‰åä½¿ç”¨é—®å·ï¼Ÿï¼Œå¯ä»¥æ˜¾ç¤ºå¯¹è±¡çš„ä¿¡æ¯ï¼š

```python
In [8]: b = [1, 2, 3]

In [9]: b?
Type:       list
String Form:[1, 2, 3]
Length:     3
Docstring:
list() -> new empty list
list(iterable) -> new list initialized from iterable's items

In [10]: print?
Docstring:
print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)

Prints the values to a stream, or to sys.stdout by default.
Optional keyword arguments:
file:  a file-like object (stream); defaults to the current sys.stdout.
sep:   string inserted between values, default a space.
end:   string appended after the last value, default a newline.
flush: whether to forcibly flush the stream.
Type:      builtin_function_or_method
```

è¿™å¯ä»¥ä½œä¸ºå¯¹è±¡çš„è‡ªçœã€‚å¦‚æœå¯¹è±¡æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–å®ä¾‹æ–¹æ³•ï¼Œå®šä¹‰è¿‡çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œä¹Ÿä¼šæ˜¾ç¤ºå‡ºä¿¡æ¯ã€‚å‡è®¾æˆ‘ä»¬å†™äº†ä¸€ä¸ªå¦‚ä¸‹çš„å‡½æ•°ï¼š

```python
def add_numbers(a, b):
    """
    Add two numbers together

    Returns
    -------
    the_sum : type of arguments
    """
    return a + b
```

ç„¶åä½¿ç”¨?ç¬¦å·ï¼Œå°±å¯ä»¥æ˜¾ç¤ºå¦‚ä¸‹çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼š

```python
In [11]: add_numbers?
Signature: add_numbers(a, b)
Docstring:
Add two numbers together

Returns
-------
the_sum : type of arguments
File:      <ipython-input-9-6a548a216e27>
Type:      function
```

ä½¿ç”¨??ä¼šæ˜¾ç¤ºå‡½æ•°çš„æºç ï¼š

```python
In [12]: add_numbers??
Signature: add_numbers(a, b)
Source:
def add_numbers(a, b):
    """
    Add two numbers together

    Returns
    -------
    the_sum : type of arguments
    """
    return a + b
File:      <ipython-input-9-6a548a216e27>
Type:      function
```

?è¿˜æœ‰ä¸€ä¸ªç”¨é€”ï¼Œå°±æ˜¯åƒUnixæˆ–Windowså‘½ä»¤è¡Œä¸€æ ·æœç´¢IPythonçš„å‘½åç©ºé—´ã€‚å­—ç¬¦ä¸é€šé…ç¬¦ç»“åˆå¯ä»¥åŒ¹é…æ‰€æœ‰çš„åå­—ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ‰€æœ‰åŒ…å«loadçš„é¡¶çº§NumPyå‘½åç©ºé—´ï¼š

```python
In [13]: np.*load*?
np.__loader__
np.load
np.loads
np.loadtxt
np.pkgload
```

### %runå‘½ä»¤

ä½ å¯ä»¥ç”¨`%run`å‘½ä»¤è¿è¡Œæ‰€æœ‰çš„Pythonç¨‹åºã€‚å‡è®¾æœ‰ä¸€ä¸ªæ–‡ä»¶`ipython_script_test.py`ï¼š

```python
def f(x, y, z):
    return (x + y) / z

a = 5
b = 6
c = 7.5

result = f(a, b, c)
```

å¯ä»¥å¦‚ä¸‹è¿è¡Œï¼š

```python
In [14]: %run ipython_script_test.py
```

è¿™æ®µè„šæœ¬è¿è¡Œåœ¨ç©ºçš„å‘½åç©ºé—´ï¼ˆæ²¡æœ‰importå’Œå…¶å®ƒå®šä¹‰çš„å˜é‡ï¼‰ï¼Œå› æ­¤ç»“æœå’Œæ™®é€šçš„è¿è¡Œæ–¹å¼`python script.py`ç›¸åŒã€‚æ–‡ä»¶ä¸­æ‰€æœ‰å®šä¹‰çš„å˜é‡ï¼ˆimportã€å‡½æ•°å’Œå…¨å±€å˜é‡ï¼Œé™¤éæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œéƒ½å¯ä»¥åœ¨IPython shellä¸­éšåè®¿é—®ï¼š

```python
In [15]: c
Out [15]: 7.5

In [16]: result
Out[16]: 1.4666666666666666
```

å¦‚æœä¸€ä¸ªPythonè„šæœ¬éœ€è¦å‘½ä»¤è¡Œå‚æ•°ï¼ˆåœ¨`sys.argv`ä¸­æŸ¥æ‰¾ï¼‰ï¼Œå¯ä»¥åœ¨æ–‡ä»¶è·¯å¾„ä¹‹åä¼ é€’ï¼Œå°±åƒåœ¨å‘½ä»¤è¡Œä¸Šè¿è¡Œä¸€æ ·ã€‚

> ç¬”è®°ï¼šå¦‚æœæƒ³è®©ä¸€ä¸ªè„šæœ¬è®¿é—®IPythonå·²ç»å®šä¹‰è¿‡çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨`%run -i`ã€‚

åœ¨Jupyter notebookä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨`%load`ï¼Œå®ƒå°†è„šæœ¬å¯¼å…¥åˆ°ä¸€ä¸ªä»£ç æ ¼ä¸­ï¼š

```text
>>> %load ipython_script_test.py

    def f(x, y, z):
        return (x + y) / z
    a = 5
    b = 6
    c = 7.5

    result = f(a, b, c)
```

### ä¸­æ–­è¿è¡Œçš„ä»£ç 

ä»£ç è¿è¡Œæ—¶æŒ‰Ctrl-Cï¼Œæ— è®ºæ˜¯%runæˆ–é•¿æ—¶é—´è¿è¡Œå‘½ä»¤ï¼Œéƒ½ä¼šå¯¼è‡´`KeyboardInterrupt`ã€‚è¿™ä¼šå¯¼è‡´å‡ ä¹æ‰€æœ‰Pythonç¨‹åºç«‹å³åœæ­¢ï¼Œé™¤éä¸€äº›ç‰¹æ®Šæƒ…å†µã€‚

> è­¦å‘Šï¼šå½“Pythonä»£ç è°ƒç”¨äº†ä¸€äº›ç¼–è¯‘çš„æ‰©å±•æ¨¡å—ï¼ŒæŒ‰Ctrl-Cä¸ä¸€å®šå°†æ‰§è¡Œçš„ç¨‹åºç«‹å³åœæ­¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°æ§åˆ¶è¿”å›Pythonè§£é‡Šå™¨ï¼Œæˆ–è€…åœ¨æ›´ç³Ÿç³•çš„æƒ…å†µä¸‹å¼ºåˆ¶ç»ˆæ­¢Pythonè¿›ç¨‹ã€‚

### ä»å‰ªè´´æ¿æ‰§è¡Œç¨‹åº

å¦‚æœä½¿ç”¨Jupyter notebookï¼Œä½ å¯ä»¥å°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°ä»»æ„ä»£ç æ ¼æ‰§è¡Œã€‚åœ¨IPython shellä¸­ä¹Ÿå¯ä»¥ä»å‰ªè´´æ¿æ‰§è¡Œã€‚å‡è®¾åœ¨å…¶å®ƒåº”ç”¨ä¸­å¤åˆ¶äº†å¦‚ä¸‹ä»£ç ï¼š

```python
x = 5
y = 7
if x > 5:
    x += 1

    y = 8
```

æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨`%paste`å’Œ`%cpaste`å‡½æ•°ã€‚`%paste`å¯ä»¥ç›´æ¥è¿è¡Œå‰ªè´´æ¿ä¸­çš„ä»£ç ï¼š

```python
In [17]: %paste
x = 5
y = 7
if x > 5:
    x += 1

    y = 8
## -- End pasted text --
```

`%cpaste`åŠŸèƒ½ç±»ä¼¼ï¼Œä½†ä¼šç»™å‡ºä¸€æ¡æç¤ºï¼š

```python
In [18]: %cpaste
Pasting code; enter '--' alone on the line to stop or use Ctrl-D.
:x = 5
:y = 7
:if x > 5:
:    x += 1
:
:    y = 8
:--
```

ä½¿ç”¨`%cpaste`ï¼Œä½ å¯ä»¥ç²˜è´´ä»»æ„å¤šçš„ä»£ç å†è¿è¡Œã€‚ä½ å¯èƒ½æƒ³åœ¨è¿è¡Œå‰ï¼Œå…ˆçœ‹çœ‹ä»£ç ã€‚å¦‚æœç²˜è´´äº†é”™è¯¯çš„ä»£ç ï¼Œå¯ä»¥ç”¨Ctrl-Cä¸­æ–­ã€‚

### é”®ç›˜å¿«æ·é”®

IPythonæœ‰è®¸å¤šé”®ç›˜å¿«æ·é”®è¿›è¡Œå¯¼èˆªæç¤ºï¼ˆç±»ä¼¼Emacsæ–‡æœ¬ç¼–è¾‘å™¨æˆ–UNIX bash Shellï¼‰å’Œäº¤äº’shellçš„å†å²å‘½ä»¤ã€‚è¡¨2-1æ€»ç»“äº†å¸¸è§çš„å¿«æ·é”®ã€‚å›¾2-5å±•ç¤ºäº†ä¸€éƒ¨åˆ†ï¼Œå¦‚ç§»åŠ¨å…‰æ ‡ã€‚

![&#x56FE;2-5 IPython shell&#x4E2D;&#x4E00;&#x4E9B;&#x5FEB;&#x6377;&#x952E;&#x7684;&#x8BF4;&#x660E;](http://upload-images.jianshu.io/upload_images/7178691-9ed3866ea25c11f8.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

![&#x8868;2-1 IPython&#x7684;&#x6807;&#x51C6;&#x5FEB;&#x6377;&#x952E;](http://upload-images.jianshu.io/upload_images/7178691-e179f5ea00e50691.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

Jupyter notebooksæœ‰å¦å¤–ä¸€å¥—åºå¤§çš„å¿«æ·é”®ã€‚å› ä¸ºå®ƒçš„å¿«æ·é”®æ¯”IPythonçš„å˜åŒ–å¿«ï¼Œå»ºè®®ä½ å‚é˜…Jupyter notebookçš„å¸®åŠ©æ–‡æ¡£ã€‚

### é­”æœ¯å‘½ä»¤

IPythonä¸­ç‰¹æ®Šçš„å‘½ä»¤ï¼ˆPythonä¸­æ²¡æœ‰ï¼‰è¢«ç§°ä½œâ€œé­”æœ¯â€å‘½ä»¤ã€‚è¿™äº›å‘½ä»¤å¯ä»¥ä½¿æ™®é€šä»»åŠ¡æ›´ä¾¿æ·ï¼Œæ›´å®¹æ˜“æ§åˆ¶IPythonç³»ç»Ÿã€‚é­”æœ¯å‘½ä»¤æ˜¯åœ¨æŒ‡ä»¤å‰æ·»åŠ ç™¾åˆ†å·%å‰ç¼€ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨`%timeit`ï¼ˆè¿™ä¸ªå‘½ä»¤åé¢ä¼šè¯¦è°ˆï¼‰æµ‹é‡ä»»ä½•Pythonè¯­å¥ï¼Œä¾‹å¦‚çŸ©é˜µä¹˜æ³•ï¼Œçš„æ‰§è¡Œæ—¶é—´ï¼š

```python
In [20]: a = np.random.randn(100, 100)

In [20]: %timeit np.dot(a, a)
10000 loops, best of 3: 20.9 Âµs per loop
```

é­”æœ¯å‘½ä»¤å¯ä»¥è¢«çœ‹åšIPythonä¸­è¿è¡Œçš„å‘½ä»¤è¡Œã€‚è®¸å¤šé­”æœ¯å‘½ä»¤æœ‰â€œå‘½ä»¤è¡Œâ€é€‰é¡¹ï¼Œå¯ä»¥é€šè¿‡ï¼ŸæŸ¥çœ‹ï¼š

```text
In [21]: %debug?
Docstring:
::

  %debug [--breakpoint FILE:LINE] [statement [statement ...]]

Activate the interactive debugger.

This magic command support two ways of activating debugger.
One is to activate debugger before executing code.  This way, you
can set a break point, to step through the code from the point.
You can use this mode by giving statements to execute and optionally
a breakpoint.

The other one is to activate debugger in post-mortem mode.  You can
activate this mode simply running %debug without any argument.
If an exception has just occurred, this lets you inspect its stack
frames interactively.  Note that this will always work only on the last
traceback that occurred, so you must call this quickly after an
exception that you wish to inspect has fired, because if another one
occurs, it clobbers the previous one.

If you want IPython to automatically do this on every exception, see
the %pdb magic for more details.

positional arguments:
  statement             Code to run in debugger. You can omit this in cell
                        magic mode.

optional arguments:
  --breakpoint <FILE:LINE>, -b <FILE:LINE>
                        Set break point at LINE in FILE.
```

é­”æœ¯å‡½æ•°é»˜è®¤å¯ä»¥ä¸ç”¨ç™¾åˆ†å·ï¼Œåªè¦æ²¡æœ‰å˜é‡å’Œå‡½æ•°åç›¸åŒã€‚è¿™ä¸ªç‰¹ç‚¹è¢«ç§°ä¸ºâ€œè‡ªåŠ¨é­”æœ¯â€ï¼Œå¯ä»¥ç”¨`%automagic`æ‰“å¼€æˆ–å…³é—­ã€‚

ä¸€äº›é­”æœ¯å‡½æ•°ä¸Pythonå‡½æ•°å¾ˆåƒï¼Œå®ƒçš„ç»“æœå¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼š

```text
In [22]: %pwd
Out[22]: '/home/wesm/code/pydata-book

In [23]: foo = %pwd

In [24]: foo
Out[24]: '/home/wesm/code/pydata-book'
```

IPythonçš„æ–‡æ¡£å¯ä»¥åœ¨shellä¸­æ‰“å¼€ï¼Œæˆ‘å»ºè®®ä½ ç”¨`%quickref`æˆ–`%magic`å­¦ä¹ ä¸‹æ‰€æœ‰ç‰¹æ®Šå‘½ä»¤ã€‚è¡¨2-2åˆ—å‡ºäº†ä¸€äº›å¯ä»¥æé«˜ç”Ÿäº§ç‡çš„äº¤äº’è®¡ç®—å’ŒPythonå¼€å‘çš„IPythonæŒ‡ä»¤ã€‚

![&#x8868;2-2 &#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;IPython&#x9B54;&#x672F;&#x547D;&#x4EE4;](http://upload-images.jianshu.io/upload_images/7178691-c72b11add9b8ccf8.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

### é›†æˆMatplotlib

IPythonåœ¨åˆ†æè®¡ç®—é¢†åŸŸèƒ½å¤Ÿæµè¡Œçš„åŸå› ä¹‹ä¸€æ˜¯å®ƒéå¸¸å¥½çš„é›†æˆäº†æ•°æ®å¯è§†åŒ–å’Œå…¶å®ƒç”¨æˆ·ç•Œé¢åº“ï¼Œæ¯”å¦‚matplotlibã€‚ä¸ç”¨æ‹…å¿ƒä»¥å‰æ²¡ç”¨è¿‡matplotlibï¼Œæœ¬ä¹¦åé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚`%matplotlib`é­”æœ¯å‡½æ•°é…ç½®äº†IPython shellå’ŒJupyter notebookä¸­çš„matplotlibã€‚è¿™ç‚¹å¾ˆé‡è¦ï¼Œå…¶å®ƒåˆ›å»ºçš„å›¾ä¸ä¼šå‡ºç°ï¼ˆnotebookï¼‰æˆ–è·å–sessionçš„æ§åˆ¶ï¼Œç›´åˆ°ç»“æŸï¼ˆshellï¼‰ã€‚

åœ¨IPython shellä¸­ï¼Œè¿è¡Œ`%matplotlib`å¯ä»¥è¿›è¡Œè®¾ç½®ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªç»˜å›¾çª—å£ï¼Œè€Œä¸ä¼šå¹²æ‰°æ§åˆ¶å°sessionï¼š

```text
In [26]: %matplotlib
Using matplotlib backend: Qt4Agg
```

åœ¨JUpyterä¸­ï¼Œå‘½ä»¤æœ‰æ‰€ä¸åŒï¼ˆå›¾2-6ï¼‰ï¼š

```text
In [26]: %matplotlib inline
```

![&#x56FE;2-6 Jupyter&#x884C;&#x5185;matplotlib&#x4F5C;&#x56FE;](http://upload-images.jianshu.io/upload_images/7178691-3ab3738a92a15486.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

## 2.3 Pythonè¯­æ³•åŸºç¡€

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘å°†æ¦‚è¿°åŸºæœ¬çš„Pythonæ¦‚å¿µå’Œè¯­è¨€æœºåˆ¶ã€‚åœ¨ä¸‹ä¸€ç« ï¼Œæˆ‘å°†è¯¦ç»†ä»‹ç»Pythonçš„æ•°æ®ç»“æ„ã€å‡½æ•°å’Œå…¶å®ƒå†…å»ºå·¥å…·ã€‚

### è¯­è¨€çš„è¯­ä¹‰

Pythonçš„è¯­è¨€è®¾è®¡å¼ºè°ƒçš„æ˜¯å¯è¯»æ€§ã€ç®€æ´å’Œæ¸…æ™°ã€‚æœ‰äº›äººç§°Pythonä¸ºâ€œå¯æ‰§è¡Œçš„ä¼ªä»£ç â€ã€‚

### ä½¿ç”¨ç¼©è¿›ï¼Œè€Œä¸æ˜¯æ‹¬å·

Pythonä½¿ç”¨ç©ºç™½å­—ç¬¦ï¼ˆtabå’Œç©ºæ ¼ï¼‰æ¥ç»„ç»‡ä»£ç ï¼Œè€Œä¸æ˜¯åƒå…¶å®ƒè¯­è¨€ï¼Œæ¯”å¦‚Rã€C++ã€JAVAå’ŒPerlé‚£æ ·ä½¿ç”¨æ‹¬å·ã€‚çœ‹ä¸€ä¸ªæ’åºç®—æ³•çš„`for`å¾ªç¯ï¼š

```python
for x in array:
    if x < pivot:
        less.append(x)
    else:
        greater.append(x)
```

å†’å·æ ‡å¿—ç€ç¼©è¿›ä»£ç å—çš„å¼€å§‹ï¼Œå†’å·ä¹‹åçš„æ‰€æœ‰ä»£ç çš„ç¼©è¿›é‡å¿…é¡»ç›¸åŒï¼Œç›´åˆ°ä»£ç å—ç»“æŸã€‚ä¸ç®¡æ˜¯å¦å–œæ¬¢è¿™ç§å½¢å¼ï¼Œä½¿ç”¨ç©ºç™½ç¬¦æ˜¯Pythonç¨‹åºå‘˜å¼€å‘çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™å¯ä»¥è®©pythonçš„ä»£ç å¯è¯»æ€§å¤§å¤§ä¼˜äºå…¶å®ƒè¯­è¨€ã€‚è™½ç„¶æœŸåˆçœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œä½ å°±èƒ½é€‚åº”äº†ã€‚

> ç¬”è®°ï¼šæˆ‘å¼ºçƒˆå»ºè®®ä½ ä½¿ç”¨å››ä¸ªç©ºæ ¼ä½œä¸ºé»˜è®¤çš„ç¼©è¿›ï¼Œå¯ä»¥ä½¿ç”¨tabä»£æ›¿å››ä¸ªç©ºæ ¼ã€‚è®¸å¤šæ–‡æœ¬ç¼–è¾‘å™¨çš„è®¾ç½®æ˜¯ä½¿ç”¨åˆ¶è¡¨ä½æ›¿ä»£ç©ºæ ¼ã€‚æŸäº›äººä½¿ç”¨tabsæˆ–ä¸åŒæ•°ç›®çš„ç©ºæ ¼æ•°ï¼Œå¸¸è§çš„æ˜¯ä½¿ç”¨ä¸¤ä¸ªç©ºæ ¼ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå››ä¸ªç©ºæ ¼æ˜¯å¤§å¤šæ•°äººé‡‡ç”¨çš„æ–¹æ³•ï¼Œå› æ­¤å»ºè®®ä½ ä¹Ÿè¿™æ ·åšã€‚

ä½ åº”è¯¥å·²ç»çœ‹åˆ°ï¼ŒPythonçš„è¯­å¥ä¸éœ€è¦ç”¨åˆ†å·ç»“å°¾ã€‚ä½†æ˜¯ï¼Œåˆ†å·å´å¯ä»¥ç”¨æ¥ç»™åŒåœ¨ä¸€è¡Œçš„è¯­å¥åˆ‡åˆ†ï¼š

```python
a = 5; b = 6; c = 7
```

Pythonä¸å»ºè®®å°†å¤šæ¡è¯­å¥æ”¾åˆ°ä¸€è¡Œï¼Œè¿™ä¼šé™ä½ä»£ç çš„å¯è¯»æ€§ã€‚

### ä¸‡ç‰©çš†å¯¹è±¡

Pythonè¯­è¨€çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§å°±æ˜¯å®ƒçš„å¯¹è±¡æ¨¡å‹çš„ä¸€è‡´æ€§ã€‚æ¯ä¸ªæ•°å­—ã€å­—ç¬¦ä¸²ã€æ•°æ®ç»“æ„ã€å‡½æ•°ã€ç±»ã€æ¨¡å—ç­‰ç­‰ï¼Œéƒ½æ˜¯åœ¨Pythonè§£é‡Šå™¨çš„è‡ªæœ‰â€œç›’å­â€å†…ï¼Œå®ƒè¢«è®¤ä¸ºæ˜¯Pythonå¯¹è±¡ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²æˆ–å‡½æ•°ï¼‰å’Œå†…éƒ¨æ•°æ®ã€‚åœ¨å®é™…ä¸­ï¼Œè¿™å¯ä»¥è®©è¯­è¨€éå¸¸çµæ´»ï¼Œå› ä¸ºå‡½æ•°ä¹Ÿå¯ä»¥è¢«å½“åšå¯¹è±¡ä½¿ç”¨ã€‚

### æ³¨é‡Š

ä»»ä½•å‰é¢å¸¦æœ‰äº•å·\#çš„æ–‡æœ¬éƒ½ä¼šè¢«Pythonè§£é‡Šå™¨å¿½ç•¥ã€‚è¿™é€šå¸¸è¢«ç”¨æ¥æ·»åŠ æ³¨é‡Šã€‚æœ‰æ—¶ï¼Œä½ ä¼šæƒ³æ’é™¤ä¸€æ®µä»£ç ï¼Œä½†å¹¶ä¸åˆ é™¤ã€‚ç®€ä¾¿çš„æ–¹æ³•å°±æ˜¯å°†å…¶æ³¨é‡Šæ‰ï¼š

```python
results = []
for line in file_handle:
    # keep the empty lines for now
    # if len(line) == 0:
    #   continue
    results.append(line.replace('foo', 'bar'))
```

ä¹Ÿå¯ä»¥åœ¨æ‰§è¡Œè¿‡çš„ä»£ç åé¢æ·»åŠ æ³¨é‡Šã€‚ä¸€äº›äººä¹ æƒ¯åœ¨ä»£ç ä¹‹å‰æ·»åŠ æ³¨é‡Šï¼Œå‰è€…è¿™ç§æ–¹æ³•æœ‰æ—¶ä¹Ÿæ˜¯æœ‰ç”¨çš„ï¼š

```python
print("Reached this line")  # Simple status report
```

### å‡½æ•°å’Œå¯¹è±¡æ–¹æ³•è°ƒç”¨

ä½ å¯ä»¥ç”¨åœ†æ‹¬å·è°ƒç”¨å‡½æ•°ï¼Œä¼ é€’é›¶ä¸ªæˆ–å‡ ä¸ªå‚æ•°ï¼Œæˆ–è€…å°†è¿”å›å€¼ç»™ä¸€ä¸ªå˜é‡ï¼š

```python
result = f(x, y, z)
g()
```

å‡ ä¹Pythonä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰é™„åŠ çš„å‡½æ•°ï¼Œç§°ä½œæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥è®¿é—®å¯¹è±¡çš„å†…å®¹ã€‚å¯ä»¥ç”¨ä¸‹é¢çš„è¯­å¥è°ƒç”¨ï¼š

```python
obj.some_method(x, y, z)
```

å‡½æ•°å¯ä»¥ä½¿ç”¨ä½ç½®å’Œå…³é”®è¯å‚æ•°ï¼š

```python
result = f(a, b, c, d=5, e='foo')
```

åé¢ä¼šæœ‰æ›´å¤šä»‹ç»ã€‚

### å˜é‡å’Œå‚æ•°ä¼ é€’

å½“åœ¨Pythonä¸­åˆ›å»ºå˜é‡ï¼ˆæˆ–åå­—ï¼‰ï¼Œä½ å°±åœ¨ç­‰å·å³è¾¹åˆ›å»ºäº†ä¸€ä¸ªå¯¹è¿™ä¸ªå˜é‡çš„å¼•ç”¨ã€‚è€ƒè™‘ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼š

```python
In [8]: a = [1, 2, 3]
```

å‡è®¾å°†aèµ‹å€¼ç»™ä¸€ä¸ªæ–°å˜é‡bï¼š

```python
In [9]: b = a
```

åœ¨æœ‰äº›æ–¹æ³•ä¸­ï¼Œè¿™ä¸ªèµ‹å€¼ä¼šå°†æ•°æ®\[1, 2, 3\]ä¹Ÿå¤åˆ¶ã€‚åœ¨Pythonä¸­ï¼Œaå’Œbå®é™…ä¸Šæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå³åŸæœ‰åˆ—è¡¨\[1, 2, 3\]ï¼ˆè§å›¾2-7ï¼‰ã€‚ä½ å¯ä»¥åœ¨aä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæ£€æŸ¥bï¼š

```python
In [10]: a.append(4)

In [11]: b
Out[11]: [1, 2, 3, 4]
```

![&#x56FE;2-7 &#x5BF9;&#x540C;&#x4E00;&#x5BF9;&#x8C61;&#x7684;&#x53CC;&#x91CD;&#x5F15;&#x7528;](http://upload-images.jianshu.io/upload_images/7178691-3e3a8c6b9c5040fc.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

ç†è§£Pythonçš„å¼•ç”¨çš„å«ä¹‰ï¼Œæ•°æ®æ˜¯ä½•æ—¶ã€å¦‚ä½•ã€ä¸ºä½•å¤åˆ¶çš„ï¼Œæ˜¯éå¸¸é‡è¦çš„ã€‚å°¤å…¶æ˜¯å½“ä½ ç”¨Pythonå¤„ç†å¤§çš„æ•°æ®é›†æ—¶ã€‚

> ç¬”è®°ï¼šèµ‹å€¼ä¹Ÿè¢«ç§°ä½œç»‘å®šï¼Œæˆ‘ä»¬æ˜¯æŠŠä¸€ä¸ªåå­—ç»‘å®šç»™ä¸€ä¸ªå¯¹è±¡ã€‚å˜é‡åæœ‰æ—¶å¯èƒ½è¢«ç§°ä¸ºç»‘å®šå˜é‡ã€‚

å½“ä½ å°†å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œæ–°çš„å±€åŸŸå˜é‡åˆ›å»ºäº†å¯¹åŸå§‹å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å¤åˆ¶ã€‚å¦‚æœåœ¨å‡½æ•°é‡Œç»‘å®šä¸€ä¸ªæ–°å¯¹è±¡åˆ°ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜åŠ¨ä¸ä¼šåæ˜ åˆ°ä¸Šä¸€å±‚ã€‚å› æ­¤å¯ä»¥æ”¹å˜å¯å˜å‚æ•°çš„å†…å®¹ã€‚å‡è®¾æœ‰ä»¥ä¸‹å‡½æ•°ï¼š

```python
def append_element(some_list, element):
    some_list.append(element)
```

ç„¶åæœ‰ï¼š

```python
In [27]: data = [1, 2, 3]

In [28]: append_element(data, 4)

In [29]: data
Out[29]: [1, 2, 3, 4]
```

### åŠ¨æ€å¼•ç”¨ï¼Œå¼ºç±»å‹

ä¸è®¸å¤šç¼–è¯‘è¯­è¨€ï¼ˆå¦‚JAVAå’ŒC++ï¼‰å¯¹æ¯”ï¼ŒPythonä¸­çš„å¯¹è±¡å¼•ç”¨ä¸åŒ…å«é™„å±çš„ç±»å‹ã€‚ä¸‹é¢çš„ä»£ç æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼š

```python
In [12]: a = 5

In [13]: type(a)
Out[13]: int

In [14]: a = 'foo'

In [15]: type(a)
Out[15]: str
```

å˜é‡æ˜¯åœ¨ç‰¹æ®Šå‘½åç©ºé—´ä¸­çš„å¯¹è±¡çš„åå­—ï¼Œç±»å‹ä¿¡æ¯ä¿å­˜åœ¨å¯¹è±¡è‡ªèº«ä¸­ã€‚ä¸€äº›äººå¯èƒ½ä¼šè¯´Pythonä¸æ˜¯â€œç±»å‹åŒ–è¯­è¨€â€ã€‚è¿™æ˜¯ä¸æ­£ç¡®çš„ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š

```text
In [16]: '5' + 5
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-16-f9dbf5f0b234> in <module>()
----> 1 '5' + 5
TypeError: must be str, not int
```

åœ¨æŸäº›è¯­è¨€ä¸­ï¼Œä¾‹å¦‚Visual Basicï¼Œå­—ç¬¦ä¸²â€˜5â€™å¯èƒ½è¢«é»˜è®¸è½¬æ¢ï¼ˆæˆ–æŠ•å°„ï¼‰ä¸ºæ•´æ•°ï¼Œå› æ­¤ä¼šäº§ç”Ÿ10ã€‚ä½†åœ¨å…¶å®ƒè¯­è¨€ä¸­ï¼Œä¾‹å¦‚JavaScriptï¼Œæ•´æ•°5ä¼šè¢«æŠ•å°„æˆå­—ç¬¦ä¸²ï¼Œç»“æœæ˜¯è”ç»“å­—ç¬¦ä¸²â€˜55â€™ã€‚åœ¨è¿™ä¸ªæ–¹é¢ï¼ŒPythonè¢«è®¤ä¸ºæ˜¯å¼ºç±»å‹åŒ–è¯­è¨€ï¼Œæ„å‘³ç€æ¯ä¸ªå¯¹è±¡éƒ½æœ‰æ˜ç¡®çš„ç±»å‹ï¼ˆæˆ–ç±»ï¼‰ï¼Œé»˜è®¸è½¬æ¢åªä¼šå‘ç”Ÿåœ¨ç‰¹å®šçš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚ï¼š

```text
In [17]: a = 4.5

In [18]: b = 2

# String formatting, to be visited later
In [19]: print('a is {0}, b is {1}'.format(type(a), type(b)))
a is <class 'float'>, b is <class 'int'>

In [20]: a / b
Out[20]: 2.25
```

çŸ¥é“å¯¹è±¡çš„ç±»å‹å¾ˆé‡è¦ï¼Œæœ€å¥½èƒ½è®©å‡½æ•°å¯ä»¥å¤„ç†å¤šç§ç±»å‹çš„è¾“å…¥ã€‚ä½ å¯ä»¥ç”¨`isinstance`å‡½æ•°æ£€æŸ¥å¯¹è±¡æ˜¯æŸä¸ªç±»å‹çš„å®ä¾‹ï¼š

```text
In [21]: a = 5

In [22]: isinstance(a, int)
Out[22]: True
```

`isinstance`å¯ä»¥ç”¨ç±»å‹å…ƒç»„ï¼Œæ£€æŸ¥å¯¹è±¡çš„ç±»å‹æ˜¯å¦åœ¨å…ƒç»„ä¸­ï¼š

```text
In [23]: a = 5; b = 4.5

In [24]: isinstance(a, (int, float))
Out[24]: True

In [25]: isinstance(b, (int, float))
Out[25]: True
```

### å±æ€§å’Œæ–¹æ³•

Pythonçš„å¯¹è±¡é€šå¸¸éƒ½æœ‰å±æ€§ï¼ˆå…¶å®ƒå­˜å‚¨åœ¨å¯¹è±¡å†…éƒ¨çš„Pythonå¯¹è±¡ï¼‰å’Œæ–¹æ³•ï¼ˆå¯¹è±¡çš„é™„å±å‡½æ•°å¯ä»¥è®¿é—®å¯¹è±¡çš„å†…éƒ¨æ•°æ®ï¼‰ã€‚å¯ä»¥ç”¨`obj.attribute_name`è®¿é—®å±æ€§å’Œæ–¹æ³•ï¼š

```text
In [1]: a = 'foo'

In [2]: a.<Press Tab>
a.capitalize  a.format      a.isupper     a.rindex      a.strip
a.center      a.index       a.join        a.rjust       a.swapcase
a.count       a.isalnum     a.ljust       a.rpartition  a.title
a.decode      a.isalpha     a.lower       a.rsplit      a.translate
a.encode      a.isdigit     a.lstrip      a.rstrip      a.upper
a.endswith    a.islower     a.partition   a.split       a.zfill
a.expandtabs  a.isspace     a.replace     a.splitlines
a.find        a.istitle     a.rfind       a.startswith
```

ä¹Ÿå¯ä»¥ç”¨`getattr`å‡½æ•°ï¼Œé€šè¿‡åå­—è®¿é—®å±æ€§å’Œæ–¹æ³•ï¼š

```text
In [27]: getattr(a, 'split')
Out[27]: <function str.split>
```

åœ¨å…¶å®ƒè¯­è¨€ä¸­ï¼Œè®¿é—®å¯¹è±¡çš„åå­—é€šå¸¸ç§°ä½œâ€œåå°„â€ã€‚æœ¬ä¹¦ä¸ä¼šå¤§é‡ä½¿ç”¨`getattr`å‡½æ•°å’Œç›¸å…³çš„`hasattr`å’Œ`setattr`å‡½æ•°ï¼Œä½¿ç”¨è¿™äº›å‡½æ•°å¯ä»¥é«˜æ•ˆç¼–å†™åŸç”Ÿçš„ã€å¯é‡å¤ä½¿ç”¨çš„ä»£ç ã€‚

### é¸­å­ç±»å‹

ç»å¸¸åœ°ï¼Œä½ å¯èƒ½ä¸å…³å¿ƒå¯¹è±¡çš„ç±»å‹ï¼Œåªå…³å¿ƒå¯¹è±¡æ˜¯å¦æœ‰æŸäº›æ–¹æ³•æˆ–ç”¨é€”ã€‚è¿™é€šå¸¸è¢«ç§°ä¸ºâ€œé¸­å­ç±»å‹â€ï¼Œæ¥è‡ªâ€œèµ°èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥åƒé¸­å­ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é¸­å­â€çš„è¯´æ³•ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡éªŒè¯ä¸€ä¸ªå¯¹è±¡æ˜¯å¦éµå¾ªè¿­ä»£åè®®ï¼Œåˆ¤æ–­å®ƒæ˜¯å¯è¿­ä»£çš„ã€‚å¯¹äºè®¸å¤šå¯¹è±¡ï¼Œè¿™æ„å‘³ç€å®ƒæœ‰ä¸€ä¸ª`__iter__`é­”æœ¯æ–¹æ³•ï¼Œå…¶å®ƒæ›´å¥½çš„åˆ¤æ–­æ–¹æ³•æ˜¯ä½¿ç”¨`iter`å‡½æ•°ï¼š

```python
def isiterable(obj):
    try:
        iter(obj)
        return True
    except TypeError: # not iterable
        return False
```

è¿™ä¸ªå‡½æ•°ä¼šè¿”å›å­—ç¬¦ä¸²ä»¥åŠå¤§å¤šæ•°Pythoné›†åˆç±»å‹ä¸º`True`ï¼š

```text
In [29]: isiterable('a string')
Out[29]: True

In [30]: isiterable([1, 2, 3])
Out[30]: True

In [31]: isiterable(5)
Out[31]: False
```

æˆ‘æ€»æ˜¯ç”¨è¿™ä¸ªåŠŸèƒ½ç¼–å†™å¯ä»¥æ¥å—å¤šç§è¾“å…¥ç±»å‹çš„å‡½æ•°ã€‚å¸¸è§çš„ä¾‹å­æ˜¯ç¼–å†™ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„åºåˆ—ï¼ˆlistã€tupleã€ndarrayï¼‰æˆ–æ˜¯è¿­ä»£å™¨ã€‚ä½ å¯å…ˆæ£€éªŒå¯¹è±¡æ˜¯å¦æ˜¯åˆ—è¡¨ï¼ˆæˆ–æ˜¯NUmPyæ•°ç»„ï¼‰ï¼Œå¦‚æœä¸æ˜¯çš„è¯ï¼Œå°†å…¶è½¬å˜æˆåˆ—è¡¨ï¼š

```python
if not isinstance(x, list) and isiterable(x):
    x = list(x)
```

### å¼•å…¥

åœ¨Pythonä¸­ï¼Œæ¨¡å—å°±æ˜¯ä¸€ä¸ªæœ‰`.py`æ‰©å±•åã€åŒ…å«Pythonä»£ç çš„æ–‡ä»¶ã€‚å‡è®¾æœ‰ä»¥ä¸‹æ¨¡å—ï¼š

```python
# some_module.py
PI = 3.14159

def f(x):
    return x + 2

def g(a, b):
    return a + b
```

å¦‚æœæƒ³ä»åŒç›®å½•ä¸‹çš„å¦ä¸€ä¸ªæ–‡ä»¶è®¿é—®`some_module.py`ä¸­å®šä¹‰çš„å˜é‡å’Œå‡½æ•°ï¼Œå¯ä»¥ï¼š

```python
import some_module
result = some_module.f(5)
pi = some_module.PI
```

æˆ–è€…ï¼š

```python
from some_module import f, g, PI
result = g(5, PI)
```

ä½¿ç”¨`as`å…³é”®è¯ï¼Œä½ å¯ä»¥ç»™å¼•å…¥èµ·ä¸åŒçš„å˜é‡åï¼š

```python
import some_module as sm
from some_module import PI as pi, g as gf

r1 = sm.f(pi)
r2 = gf(6, pi)
```

### äºŒå…ƒè¿ç®—ç¬¦å’Œæ¯”è¾ƒè¿ç®—ç¬¦

å¤§å¤šæ•°äºŒå…ƒæ•°å­¦è¿ç®—å’Œæ¯”è¾ƒéƒ½ä¸éš¾æƒ³åˆ°ï¼š

```python
In [32]: 5 - 7
Out[32]: -2

In [33]: 12 + 21.5
Out[33]: 33.5

In [34]: 5 <= 2
Out[34]: False
```

è¡¨2-3åˆ—å‡ºäº†æ‰€æœ‰çš„äºŒå…ƒè¿ç®—ç¬¦ã€‚

è¦åˆ¤æ–­ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨`is`æ–¹æ³•ã€‚`is not`å¯ä»¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸åŒçš„ï¼š

```python
In [35]: a = [1, 2, 3]

In [36]: b = a

In [37]: c = list(a)

In [38]: a is b
Out[38]: True

In [39]: a is not c
Out[39]: True
```

å› ä¸º`list`æ€»æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„Pythonåˆ—è¡¨ï¼ˆå³å¤åˆ¶ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æ–­å®šcæ˜¯ä¸åŒäºaçš„ã€‚ä½¿ç”¨`is`æ¯”è¾ƒä¸`==`è¿ç®—ç¬¦ä¸åŒï¼Œå¦‚ä¸‹ï¼š

```python
In [40]: a == c
Out[40]: True
```

`is`å’Œ`is not`å¸¸ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸º`None`ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ª`None`çš„å®ä¾‹ï¼š

```python
In [41]: a = None

In [42]: a is None
Out[42]: True
```

![&#x8868;2-3 &#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;](http://upload-images.jianshu.io/upload_images/7178691-9fb5f25b33166acf.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

### å¯å˜ä¸ä¸å¯å˜å¯¹è±¡

Pythonä¸­çš„å¤§å¤šæ•°å¯¹è±¡ï¼Œæ¯”å¦‚åˆ—è¡¨ã€å­—å…¸ã€NumPyæ•°ç»„ï¼Œå’Œç”¨æˆ·å®šä¹‰çš„ç±»å‹ï¼ˆç±»ï¼‰ï¼Œéƒ½æ˜¯å¯å˜çš„ã€‚æ„å‘³ç€è¿™äº›å¯¹è±¡æˆ–åŒ…å«çš„å€¼å¯ä»¥è¢«ä¿®æ”¹ï¼š

```python
In [43]: a_list = ['foo', 2, [4, 5]]

In [44]: a_list[2] = (3, 4)

In [45]: a_list
Out[45]: ['foo', 2, (3, 4)]
```

å…¶å®ƒçš„ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²å’Œå…ƒç»„ï¼Œæ˜¯ä¸å¯å˜çš„ï¼š

```python
In [46]: a_tuple = (3, 5, (4, 5))

In [47]: a_tuple[1] = 'four'
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-47-b7966a9ae0f1> in <module>()
----> 1 a_tuple[1] = 'four'
TypeError: 'tuple' object does not support item assignment
```

è®°ä½ï¼Œå¯ä»¥ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡å¹¶ä¸æ„å‘³å°±è¦ä¿®æ”¹å®ƒã€‚è¿™è¢«ç§°ä¸ºå‰¯ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œå½“å†™ä¸€ä¸ªå‡½æ•°ï¼Œä»»ä½•å‰¯ä½œç”¨éƒ½è¦åœ¨æ–‡æ¡£æˆ–æ³¨é‡Šä¸­å†™æ˜ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘æ¨èé¿å…å‰¯ä½œç”¨ï¼Œé‡‡ç”¨ä¸å¯å˜çš„æ–¹å¼ï¼Œå³ä½¿è¦ç”¨åˆ°å¯å˜å¯¹è±¡ã€‚

### æ ‡é‡ç±»å‹

Pythonçš„æ ‡å‡†åº“ä¸­æœ‰ä¸€äº›å†…å»ºçš„ç±»å‹ï¼Œç”¨äºå¤„ç†æ•°å€¼æ•°æ®ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼Œå’Œæ—¥æœŸæ—¶é—´ã€‚è¿™äº›å•å€¼ç±»å‹è¢«ç§°ä¸ºæ ‡é‡ç±»å‹ï¼Œæœ¬ä¹¦ä¸­ç§°å…¶ä¸ºæ ‡é‡ã€‚è¡¨2-4åˆ—å‡ºäº†ä¸»è¦çš„æ ‡é‡ã€‚æ—¥æœŸå’Œæ—¶é—´å¤„ç†ä¼šå¦å¤–è®¨è®ºï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ ‡å‡†åº“çš„`datetime`æ¨¡å—æä¾›çš„ã€‚

![&#x8868;2-4 Python&#x7684;&#x6807;&#x91CF;](http://upload-images.jianshu.io/upload_images/7178691-27a30ac3e7d262a1.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

### æ•°å€¼ç±»å‹

Pythonçš„ä¸»è¦æ•°å€¼ç±»å‹æ˜¯`int`å’Œ`float`ã€‚`int`å¯ä»¥å­˜å‚¨ä»»æ„å¤§çš„æ•°ï¼š

```python
In [48]: ival = 17239871

In [49]: ival ** 6
Out[49]: 26254519291092456596965462913230729701102721
```

æµ®ç‚¹æ•°ä½¿ç”¨Pythonçš„`float`ç±»å‹ã€‚æ¯ä¸ªæ•°éƒ½æ˜¯åŒç²¾åº¦ï¼ˆ64ä½ï¼‰çš„å€¼ã€‚ä¹Ÿå¯ä»¥ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼š

```python
In [50]: fval = 7.243

In [51]: fval2 = 6.78e-5
```

ä¸èƒ½å¾—åˆ°æ•´æ•°çš„é™¤æ³•ä¼šå¾—åˆ°æµ®ç‚¹æ•°ï¼š

```python
In [52]: 3 / 2
Out[52]: 1.5
```

è¦è·å¾—C-é£æ ¼çš„æ•´é™¤ï¼ˆå»æ‰å°æ•°éƒ¨åˆ†ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨åº•é™¤è¿ç®—ç¬¦//ï¼š

```python
In [53]: 3 // 2
Out[53]: 1
```

### å­—ç¬¦ä¸²

è®¸å¤šäººæ˜¯å› ä¸ºPythonå¼ºå¤§è€Œçµæ´»çš„å­—ç¬¦ä¸²å¤„ç†è€Œä½¿ç”¨Pythonçš„ã€‚ä½ å¯ä»¥ç”¨å•å¼•å·æˆ–åŒå¼•å·æ¥å†™å­—ç¬¦ä¸²ï¼š

```python
a = 'one way of writing a string'
b = "another way"
```

å¯¹äºæœ‰æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰å¼•å·ï¼Œ'''æˆ–"""éƒ½è¡Œï¼š

```python
c = """
This is a longer string that
spans multiple lines
"""
```

å­—ç¬¦ä¸²`c`å®é™…åŒ…å«å››è¡Œæ–‡æœ¬ï¼Œ"""åé¢å’Œlinesåé¢çš„æ¢è¡Œç¬¦ã€‚å¯ä»¥ç”¨`count`æ–¹æ³•è®¡ç®—`c`ä¸­çš„æ–°çš„è¡Œï¼š

```python
In [55]: c.count('\n')
Out[55]: 3
```

Pythonçš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œä¸èƒ½ä¿®æ”¹å­—ç¬¦ä¸²ï¼š

```python
In [56]: a = 'this is a string'

In [57]: a[10] = 'f'
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-57-5ca625d1e504> in <module>()
----> 1 a[10] = 'f'
TypeError: 'str' object does not support item assignment

In [58]: b = a.replace('string', 'longer string')

In [59]: b
Out[59]: 'this is a longer string'
```

ç»è¿‡ä»¥ä¸Šçš„æ“ä½œï¼Œå˜é‡`a`å¹¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼š

```python
In [60]: a
Out[60]: 'this is a string'
```

è®¸å¤šPythonå¯¹è±¡ä½¿ç”¨`str`å‡½æ•°å¯ä»¥è¢«è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼š

```python
In [61]: a = 5.6

In [62]: s = str(a)

In [63]: print(s)
5.6
```

å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªåºåˆ—çš„Unicodeå­—ç¬¦ï¼Œå› æ­¤å¯ä»¥åƒå…¶å®ƒåºåˆ—ï¼Œæ¯”å¦‚åˆ—è¡¨å’Œå…ƒç»„ï¼ˆä¸‹ä¸€ç« ä¼šè¯¦ç»†ä»‹ç»ä¸¤è€…ï¼‰ä¸€æ ·å¤„ç†ï¼š

```python
In [64]: s = 'python'

In [65]: list(s)
Out[65]: ['p', 'y', 't', 'h', 'o', 'n']

In [66]: s[:3]
Out[66]: 'pyt'
```

è¯­æ³•`s[:3]`è¢«ç§°ä½œåˆ‡ç‰‡ï¼Œé€‚ç”¨äºè®¸å¤šPythonåºåˆ—ã€‚åé¢ä¼šæ›´è¯¦ç»†çš„ä»‹ç»ï¼Œæœ¬ä¹¦ä¸­ç”¨åˆ°å¾ˆå¤šåˆ‡ç‰‡ã€‚

åæ–œæ æ˜¯è½¬ä¹‰å­—ç¬¦ï¼Œæ„æ€æ˜¯å®ƒå¤‡ç”¨æ¥è¡¨ç¤ºç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚æ¢è¡Œç¬¦\næˆ–Unicodeå­—ç¬¦ã€‚è¦å†™ä¸€ä¸ªåŒ…å«åæ–œæ çš„å­—ç¬¦ä¸²ï¼Œéœ€è¦è¿›è¡Œè½¬ä¹‰ï¼š

```python
In [67]: s = '12\\34'

In [68]: print(s)
12\34
```

å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«è®¸å¤šåæ–œæ ï¼Œä½†æ²¡æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œè¿™æ ·åšå°±å¾ˆéº»çƒ¦ã€‚å¹¸å¥½ï¼Œå¯ä»¥åœ¨å­—ç¬¦ä¸²å‰é¢åŠ ä¸€ä¸ªrï¼Œè¡¨æ˜å­—ç¬¦å°±æ˜¯å®ƒè‡ªèº«ï¼š

```python
In [69]: s = r'this\has\no\special\characters'

In [70]: s
Out[70]: 'this\\has\\no\\special\\characters'
```

rè¡¨ç¤ºrawã€‚

å°†ä¸¤ä¸ªå­—ç¬¦ä¸²åˆå¹¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼š

```python
In [71]: a = 'this is the first half '

In [72]: b = 'and this is the second half'

In [73]: a + b
Out[73]: 'this is the first half and this is the second half'
```

å­—ç¬¦ä¸²çš„æ¨¡æ¿åŒ–æˆ–æ ¼å¼åŒ–ï¼Œæ˜¯å¦ä¸€ä¸ªé‡è¦çš„ä¸»é¢˜ã€‚Python 3æ‹“å±•äº†æ­¤ç±»çš„æ–¹æ³•ï¼Œè¿™é‡Œåªä»‹ç»ä¸€äº›ã€‚å­—ç¬¦ä¸²å¯¹è±¡æœ‰`format`æ–¹æ³•ï¼Œå¯ä»¥æ›¿æ¢æ ¼å¼åŒ–çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼š

```python
In [74]: template = '{0:.2f} {1:s} are worth US${2:d}'
```

åœ¨è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œ

* `{0:.2f}`è¡¨ç¤ºæ ¼å¼åŒ–ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå¸¦æœ‰ä¸¤ä½å°æ•°çš„æµ®ç‚¹æ•°ã€‚
* `{1:s}`è¡¨ç¤ºæ ¼å¼åŒ–ç¬¬äºŒä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²ã€‚
* `{2:d}`è¡¨ç¤ºæ ¼å¼åŒ–ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºä¸€ä¸ªæ•´æ•°ã€‚

è¦æ›¿æ¢å‚æ•°ä¸ºè¿™äº›æ ¼å¼åŒ–çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¼ é€’`format`æ–¹æ³•ä¸€ä¸ªåºåˆ—ï¼š

```python
In [75]: template.format(4.5560, 'Argentine Pesos', 1)
Out[75]: '4.56 Argentine Pesos are worth US$1'
```

å­—ç¬¦ä¸²æ ¼å¼åŒ–æ˜¯ä¸€ä¸ªå¾ˆæ·±çš„ä¸»é¢˜ï¼Œæœ‰å¤šç§æ–¹æ³•å’Œå¤§é‡çš„é€‰é¡¹ï¼Œå¯ä»¥æ§åˆ¶å­—ç¬¦ä¸²ä¸­çš„å€¼æ˜¯å¦‚ä½•æ ¼å¼åŒ–çš„ã€‚æ¨èå‚é˜…Pythonå®˜æ–¹æ–‡æ¡£ã€‚

è¿™é‡Œæ¦‚æ‹¬ä»‹ç»å­—ç¬¦ä¸²å¤„ç†ï¼Œç¬¬8ç« çš„æ•°æ®åˆ†æä¼šè¯¦ç»†ä»‹ç»ã€‚

### å­—èŠ‚å’ŒUnicode

åœ¨Python 3åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼ŒUnicodeæ˜¯ä¸€çº§çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œè¿™æ ·å¯ä»¥æ›´ä¸€è‡´çš„å¤„ç†ASCIIå’ŒNon-ASCIIæ–‡æœ¬ã€‚åœ¨è€çš„Pythonç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²éƒ½æ˜¯å­—èŠ‚ï¼Œä¸ä½¿ç”¨Unicodeç¼–ç ã€‚å‡å¦‚çŸ¥é“å­—ç¬¦ç¼–ç ï¼Œå¯ä»¥å°†å…¶è½¬åŒ–ä¸ºUnicodeã€‚çœ‹ä¸€ä¸ªä¾‹å­ï¼š

```python
In [76]: val = "espaÃ±ol"

In [77]: val
Out[77]: 'espaÃ±ol'
```

å¯ä»¥ç”¨`encode`å°†è¿™ä¸ªUnicodeå­—ç¬¦ä¸²ç¼–ç ä¸ºUTF-8ï¼š

```python
In [78]: val_utf8 = val.encode('utf-8')

In [79]: val_utf8
Out[79]: b'espa\xc3\xb1ol'

In [80]: type(val_utf8)
Out[80]: bytes
```

å¦‚æœä½ çŸ¥é“ä¸€ä¸ªå­—èŠ‚å¯¹è±¡çš„Unicodeç¼–ç ï¼Œç”¨`decode`æ–¹æ³•å¯ä»¥è§£ç ï¼š

```python
In [81]: val_utf8.decode('utf-8')
Out[81]: 'espaÃ±ol'
```

è™½ç„¶UTF-8ç¼–ç å·²ç»å˜æˆä¸»æµï¼Œä½†å› ä¸ºå†å²çš„åŸå› ï¼Œä½ ä»ç„¶å¯èƒ½ç¢°åˆ°å…¶å®ƒç¼–ç çš„æ•°æ®ï¼š

```python
In [82]: val.encode('latin1')
Out[82]: b'espa\xf1ol'

In [83]: val.encode('utf-16')
Out[83]: b'\xff\xfee\x00s\x00p\x00a\x00\xf1\x00o\x00l\x00'

In [84]: val.encode('utf-16le')
Out[84]: b'e\x00s\x00p\x00a\x00\xf1\x00o\x00l\x00'
```

å·¥ä½œä¸­ç¢°åˆ°çš„æ–‡ä»¶å¾ˆå¤šéƒ½æ˜¯å­—èŠ‚å¯¹è±¡ï¼Œç›²ç›®åœ°å°†æ‰€æœ‰æ•°æ®ç¼–ç ä¸ºUnicodeæ˜¯ä¸å¯å–çš„ã€‚

è™½ç„¶ç”¨çš„ä¸å¤šï¼Œä½ å¯ä»¥åœ¨å­—èŠ‚æ–‡æœ¬çš„å‰é¢åŠ ä¸Šä¸€ä¸ªbï¼š

```python
In [85]: bytes_val = b'this is bytes'

In [86]: bytes_val
Out[86]: b'this is bytes'

In [87]: decoded = bytes_val.decode('utf8')

In [88]: decoded  # this is str (Unicode) now
Out[88]: 'this is bytes'
```

### å¸ƒå°”å€¼

Pythonä¸­çš„å¸ƒå°”å€¼æœ‰ä¸¤ä¸ªï¼ŒTrueå’ŒFalseã€‚æ¯”è¾ƒå’Œå…¶å®ƒæ¡ä»¶è¡¨è¾¾å¼å¯ä»¥ç”¨Trueå’ŒFalseåˆ¤æ–­ã€‚å¸ƒå°”å€¼å¯ä»¥ä¸andå’Œorç»“åˆä½¿ç”¨ï¼š

```python
In [89]: True and True
Out[89]: True

In [90]: False or True
Out[90]: True
```

### ç±»å‹è½¬æ¢

strã€boolã€intå’Œfloatä¹Ÿæ˜¯å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥è½¬æ¢ç±»å‹ï¼š

```python
In [91]: s = '3.14159'

In [92]: fval = float(s)

In [93]: type(fval)
Out[93]: float

In [94]: int(fval)
Out[94]: 3

In [95]: bool(fval)
Out[95]: True

In [96]: bool(0)
Out[96]: False
```

### None

Noneæ˜¯Pythonçš„ç©ºå€¼ç±»å‹ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°æ²¡æœ‰æ˜ç¡®çš„è¿”å›å€¼ï¼Œå°±ä¼šé»˜è®¤è¿”å›Noneï¼š

```python
In [97]: a = None

In [98]: a is None
Out[98]: True

In [99]: b = 5

In [100]: b is not None
Out[100]: True
```

Noneä¹Ÿå¸¸å¸¸ä½œä¸ºå‡½æ•°çš„é»˜è®¤å‚æ•°ï¼š

```python
def add_and_maybe_multiply(a, b, c=None):
    result = a + b

    if c is not None:
        result = result * c

    return result
```

å¦å¤–ï¼ŒNoneä¸ä»…æ˜¯ä¸€ä¸ªä¿ç•™å­—ï¼Œè¿˜æ˜¯å”¯ä¸€çš„NoneTypeçš„å®ä¾‹ï¼š

```python
In [101]: type(None)
Out[101]: NoneType
```

### æ—¥æœŸå’Œæ—¶é—´

Pythonå†…å»ºçš„`datetime`æ¨¡å—æä¾›äº†`datetime`ã€`date`å’Œ`time`ç±»å‹ã€‚`datetime`ç±»å‹ç»“åˆäº†`date`å’Œ`time`ï¼Œæ˜¯æœ€å¸¸ä½¿ç”¨çš„ï¼š

```python
In [102]: from datetime import datetime, date, time

In [103]: dt = datetime(2011, 10, 29, 20, 30, 21)

In [104]: dt.day
Out[104]: 29

In [105]: dt.minute
Out[105]: 30
```

æ ¹æ®`datetime`å®ä¾‹ï¼Œä½ å¯ä»¥ç”¨`date`å’Œ`time`æå–å‡ºå„è‡ªçš„å¯¹è±¡ï¼š

```python
In [106]: dt.date()
Out[106]: datetime.date(2011, 10, 29)

In [107]: dt.time()
Out[107]: datetime.time(20, 30, 21)
```

`strftime`æ–¹æ³•å¯ä»¥å°†datetimeæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼š

```python
In [108]: dt.strftime('%m/%d/%Y %H:%M')
Out[108]: '10/29/2011 20:30'
```

`strptime`å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢æˆ`datetime`å¯¹è±¡ï¼š

```python
In [109]: datetime.strptime('20091031', '%Y%m%d')
Out[109]: datetime.datetime(2009, 10, 31, 0, 0)
```

è¡¨2-5åˆ—å‡ºäº†æ‰€æœ‰çš„æ ¼å¼åŒ–å‘½ä»¤ã€‚

![&#x8868;2-5 Datetime&#x683C;&#x5F0F;&#x5316;&#x6307;&#x4EE4;&#xFF08;&#x4E0E;ISO C89&#x517C;&#x5BB9;&#xFF09;](http://upload-images.jianshu.io/upload_images/7178691-100f9a20c1536553.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240)

å½“ä½ èšç±»æˆ–å¯¹æ—¶é—´åºåˆ—è¿›è¡Œåˆ†ç»„ï¼Œæ›¿æ¢datetimesçš„timeå­—æ®µæœ‰æ—¶ä¼šå¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œç”¨0æ›¿æ¢åˆ†å’Œç§’ï¼š

```python
In [110]: dt.replace(minute=0, second=0)
Out[110]: datetime.datetime(2011, 10, 29, 20, 0)
```

å› ä¸º`datetime.datetime`æ˜¯ä¸å¯å˜ç±»å‹ï¼Œä¸Šé¢çš„æ–¹æ³•ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡ã€‚

ä¸¤ä¸ªdatetimeå¯¹è±¡çš„å·®ä¼šäº§ç”Ÿä¸€ä¸ª`datetime.timedelta`ç±»å‹ï¼š

```python
In [111]: dt2 = datetime(2011, 11, 15, 22, 30)

In [112]: delta = dt2 - dt

In [113]: delta
Out[113]: datetime.timedelta(17, 7179)

In [114]: type(delta)
Out[114]: datetime.timedelta
```

ç»“æœ`timedelta(17, 7179)`æŒ‡æ˜äº†`timedelta`å°†17å¤©ã€7179ç§’çš„ç¼–ç æ–¹å¼ã€‚

å°†`timedelta`æ·»åŠ åˆ°`datetime`ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„åç§»`datetime`ï¼š

```python
In [115]: dt
Out[115]: datetime.datetime(2011, 10, 29, 20, 30, 21)

In [116]: dt + delta
Out[116]: datetime.datetime(2011, 11, 15, 22, 30)
```

### æ§åˆ¶æµ

Pythonæœ‰è‹¥å¹²å†…å»ºçš„å…³é”®å­—è¿›è¡Œæ¡ä»¶é€»è¾‘ã€å¾ªç¯å’Œå…¶å®ƒæ§åˆ¶æµæ“ä½œã€‚

### ifã€elifå’Œelse

ifæ˜¯æœ€å¹¿ä¸ºäººçŸ¥çš„æ§åˆ¶æµè¯­å¥ã€‚å®ƒæ£€æŸ¥ä¸€ä¸ªæ¡ä»¶ï¼Œå¦‚æœä¸ºTrueï¼Œå°±æ‰§è¡Œåé¢çš„è¯­å¥ï¼š

```python
if x < 0:
    print('It's negative')
```

`if`åé¢å¯ä»¥è·Ÿä¸€ä¸ªæˆ–å¤šä¸ª`elif`ï¼Œæ‰€æœ‰æ¡ä»¶éƒ½æ˜¯Falseæ—¶ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ª`else`ï¼š

```python
if x < 0:
    print('It's negative')
elif x == 0:
    print('Equal to zero')
elif 0 < x < 5:
    print('Positive but smaller than 5')
else:
    print('Positive and larger than or equal to 5')
```

å¦‚æœæŸä¸ªæ¡ä»¶ä¸ºTrueï¼Œåé¢çš„`elif`å°±ä¸ä¼šè¢«æ‰§è¡Œã€‚å½“ä½¿ç”¨andå’Œoræ—¶ï¼Œå¤åˆæ¡ä»¶è¯­å¥æ˜¯ä»å·¦åˆ°å³æ‰§è¡Œï¼š

```python
In [117]: a = 5; b = 7

In [118]: c = 8; d = 4

In [119]: if a < b or c > d:
   .....:     print('Made it')
Made it
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`c > d`ä¸ä¼šè¢«æ‰§è¡Œï¼Œå› ä¸ºç¬¬ä¸€ä¸ªæ¯”è¾ƒæ˜¯Trueï¼š

ä¹Ÿå¯ä»¥æŠŠæ¯”è¾ƒå¼ä¸²åœ¨ä¸€èµ·ï¼š

```python
In [120]: 4 > 3 > 2 > 1
Out[120]: True
```

### forå¾ªç¯

forå¾ªç¯æ˜¯åœ¨ä¸€ä¸ªé›†åˆï¼ˆåˆ—è¡¨æˆ–å…ƒç»„ï¼‰ä¸­è¿›è¡Œè¿­ä»£ï¼Œæˆ–è€…å°±æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ã€‚forå¾ªç¯çš„æ ‡å‡†è¯­æ³•æ˜¯ï¼š

```python
for value in collection:
    # do something with value
```

ä½ å¯ä»¥ç”¨continueä½¿forå¾ªç¯æå‰ï¼Œè·³è¿‡å‰©ä¸‹çš„éƒ¨åˆ†ã€‚çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå°†ä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ•´æ•°ç›¸åŠ ï¼Œè·³è¿‡Noneï¼š

```python
sequence = [1, 2, None, 4, None, 5]
total = 0
for value in sequence:
    if value is None:
        continue
    total += value
```

å¯ä»¥ç”¨`break`è·³å‡ºforå¾ªç¯ã€‚ä¸‹é¢çš„ä»£ç å°†å„å…ƒç´ ç›¸åŠ ï¼Œç›´åˆ°é‡åˆ°5ï¼š

```python
sequence = [1, 2, 0, 4, 6, 5, 2, 1]
total_until_5 = 0
for value in sequence:
    if value == 5:
        break
    total_until_5 += value
```

breakåªä¸­æ–­forå¾ªç¯çš„æœ€å†…å±‚ï¼Œå…¶ä½™çš„forå¾ªç¯ä»ä¼šè¿è¡Œï¼š

```python
In [121]: for i in range(4):
   .....:     for j in range(4):
   .....:         if j > i:
   .....:             break
   .....:         print((i, j))
   .....:
(0, 0)
(1, 0)
(1, 1)
(2, 0)
(2, 1)
(2, 2)
(3, 0)
(3, 1)
(3, 2)
(3, 3)
```

å¦‚æœé›†åˆæˆ–è¿­ä»£å™¨ä¸­çš„å…ƒç´ åºåˆ—ï¼ˆå…ƒç»„æˆ–åˆ—è¡¨ï¼‰ï¼Œå¯ä»¥ç”¨forå¾ªç¯å°†å…¶æ–¹ä¾¿åœ°æ‹†åˆ†æˆå˜é‡ï¼š

```python
for a, b, c in iterator:
    # do something
```

### Whileå¾ªç¯

whileå¾ªç¯æŒ‡å®šäº†æ¡ä»¶å’Œä»£ç ï¼Œå½“æ¡ä»¶ä¸ºFalseæˆ–ç”¨breaké€€å‡ºå¾ªç¯ï¼Œä»£ç æ‰ä¼šé€€å‡ºï¼š

```python
x = 256
total = 0
while x > 0:
    if total > 500:
        break
    total += x
    x = x // 2
```

### pass

passæ˜¯Pythonä¸­çš„éæ“ä½œè¯­å¥ã€‚ä»£ç å—ä¸éœ€è¦ä»»ä½•åŠ¨ä½œæ—¶å¯ä»¥ä½¿ç”¨ï¼ˆä½œä¸ºæœªæ‰§è¡Œä»£ç çš„å ä½ç¬¦ï¼‰ï¼›å› ä¸ºPythonéœ€è¦ä½¿ç”¨ç©ºç™½å­—ç¬¦åˆ’å®šä»£ç å—ï¼Œæ‰€ä»¥éœ€è¦passï¼š

```python
if x < 0:
    print('negative!')
elif x == 0:
    # TODO: put something smart here
    pass
else:
    print('positive!')
```

### range

rangeå‡½æ•°è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå®ƒäº§ç”Ÿä¸€ä¸ªå‡åŒ€åˆ†å¸ƒçš„æ•´æ•°åºåˆ—ï¼š

```python
In [122]: range(10)
Out[122]: range(0, 10)

In [123]: list(range(10))
Out[123]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

rangeçš„ä¸‰ä¸ªå‚æ•°æ˜¯ï¼ˆèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œæ­¥è¿›ï¼‰ï¼š

```python
In [124]: list(range(0, 20, 2))
Out[124]: [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

In [125]: list(range(5, 0, -1))
Out[125]: [5, 4, 3, 2, 1]
```

å¯ä»¥çœ‹åˆ°ï¼Œrangeäº§ç”Ÿçš„æ•´æ•°ä¸åŒ…æ‹¬ç»ˆç‚¹ã€‚rangeçš„å¸¸è§ç”¨æ³•æ˜¯ç”¨åºå·è¿­ä»£åºåˆ—ï¼š

```python
seq = [1, 2, 3, 4]
for i in range(len(seq)):
    val = seq[i]
```

å¯ä»¥ä½¿ç”¨listæ¥å­˜å‚¨rangeåœ¨å…¶ä»–æ•°æ®ç»“æ„ä¸­ç”Ÿæˆçš„æ‰€æœ‰æ•´æ•°ï¼Œé»˜è®¤çš„è¿­ä»£å™¨å½¢å¼é€šå¸¸æ˜¯ä½ æƒ³è¦çš„ã€‚ä¸‹é¢çš„ä»£ç å¯¹0åˆ°99999ä¸­3æˆ–5çš„å€æ•°æ±‚å’Œï¼š

```python
sum = 0
for i in range(100000):
    # % is the modulo operator
    if i % 3 == 0 or i % 5 == 0:
        sum += i
```

è™½ç„¶rangeå¯ä»¥äº§ç”Ÿä»»æ„å¤§çš„æ•°ï¼Œä½†ä»»æ„æ—¶åˆ»è€—ç”¨çš„å†…å­˜å´å¾ˆå°ã€‚

### ä¸‰å…ƒè¡¨è¾¾å¼

Pythonä¸­çš„ä¸‰å…ƒè¡¨è¾¾å¼å¯ä»¥å°†if-elseè¯­å¥æ”¾åˆ°ä¸€è¡Œé‡Œã€‚è¯­æ³•å¦‚ä¸‹ï¼š

```python
value = true-expr if condition else false-expr
```

`true-expr`æˆ–`false-expr`å¯ä»¥æ˜¯ä»»ä½•Pythonä»£ç ã€‚å®ƒå’Œä¸‹é¢çš„ä»£ç æ•ˆæœç›¸åŒï¼š

```python
if condition:
    value = true-expr
else:
    value = false-expr
```

ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å…·ä½“çš„ä¾‹å­ï¼š

```python
In [126]: x = 5

In [127]: 'Non-negative' if x >= 0 else 'Negative'
Out[127]: 'Non-negative'
```

å’Œif-elseä¸€æ ·ï¼Œåªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¼šè¢«æ‰§è¡Œã€‚å› æ­¤ï¼Œä¸‰å…ƒè¡¨è¾¾å¼ä¸­çš„ifå’Œelseå¯ä»¥åŒ…å«å¤§é‡çš„è®¡ç®—ï¼Œä½†åªæœ‰Trueçš„åˆ†æ”¯ä¼šè¢«æ‰§è¡Œã€‚å› æ­¤ï¼Œä¸‰å…ƒè¡¨è¾¾å¼ä¸­çš„ifå’Œelseå¯ä»¥åŒ…å«å¤§é‡çš„è®¡ç®—ï¼Œä½†åªæœ‰Trueçš„åˆ†æ”¯ä¼šè¢«æ‰§è¡Œã€‚

è™½ç„¶ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼å¯ä»¥å‹ç¼©ä»£ç ï¼Œä½†ä¼šé™ä½ä»£ç å¯è¯»æ€§ã€‚

